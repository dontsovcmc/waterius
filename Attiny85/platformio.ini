
; Если у вас в Windows имя пользователя содержит кириллицу, измените home_dir
; [platformio]
; home_dir = C:\platformio

[platformio]
default_envs = attiny85

[env:attiny85]
platform = atmelavr@3.3.0
board = attiny85
framework = arduino
board_build.mcu = attiny85
board_build.f_cpu  = 1000000L
extra_scripts = objdump.py

build_flags = -Wall  
              -DWATERIUS_MODEL=0 
              -DFIRMWARE_VER=33
              #-DLOG_ON  # включение лога на пине PB3


; Логгирование 
; ============
; Не со всеми USB-TTL работает из-за погрешности частоты attiny
; Не будет работать ch1.
;
; Запуск
; ------
; Скомпилировать программу с флага LOG_ON 
; Добавить библиотеку https://github.com/dontsovcmc/TinyDebugSerial#master
;
; Подключение
; -----------
; TX пин - Счетчик 1 (PB3) 
;
; Параметры 
; ---------
; Скорость 9600, бит и четность 8N1

;lib_deps = 
;     https://github.com/dontsovcmc/TinyDebugSerial#master

monitor_port = /dev/cu.usbserial-2130
monitor_speed = 9600

; Плата Arduino в качестве программатора
;upload_protocol = arduino   ; для uno=stk500v1   ; для micro=arduino
;upload_flags = -P$UPLOAD_PORT ;-b$UPLOAD_SPEED
;upload_speed = 19200

; Измените на COM порт программатора
upload_port = COM5

; USBasp программатор 
upload_protocol = usbasp
upload_flags = 
    -Pusb 
    -B5

;Справочная информация
;=====================
;avrdude: safemode: Fuses OK (E:FF, H:DF, L:62)
